<!doctype html><html lang=en><head><title>My F1TENTH Journey — Lab 1, Introduction to ROS</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/application.45a5c976822bbb18695d6a4e0b0a54cc50b1e5934a15d3139ada0b1165781c4d.css integrity="sha256-RaXJdoIruxhpXWpOCwpUzFCx5ZNKFdMTmtoLEWV4HE0="><link rel=icon type=image/png href=/images/site/favicon-32x32-ZR_hu8be55ec36a526970238b8207e0c8eab8_2764_42x0_resize_box_3.png><meta property="og:title" content="My F1TENTH Journey — Lab 1, Introduction to ROS"><meta property="og:description" content="F1Tenth Course Lab 1"><meta property="og:type" content="article"><meta property="og:url" content="https://zhihaoruan.xyz/posts/projects/f1tenth-labs/f1tenth-lab1/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-01-24T19:56:44-04:00"><meta property="article:modified_time" content="2021-01-24T19:56:44-04:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="My F1TENTH Journey — Lab 1, Introduction to ROS"><meta name=twitter:description content="F1Tenth Course Lab 1"><meta name=description content="F1Tenth Course Lab 1"></head><body class="type-posts kind-page" data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/>Ryan's Blog</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"></ul></div></div></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts/ data-filter=all>Posts</a></li><div class=subtree><li><a href=/posts/introduction/ title=Introduction>Introduction</a></li><li><i class="fas fa-plus-circle"></i><a href=/posts/lecturenotes/>Lecture Notes</a><ul><li><a href=/posts/lecturenotes/ve320-notes/ title="VE320 Course Final Summary">VE320 Course Final Summary</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/gallery/>My Personal Gallery</a><ul><li><a href=/posts/gallery/ann-arbor/ title="Ann Arbor">Ann Arbor</a></li><li><a href=/posts/gallery/blue-hour/ title="Blue Hour">Blue Hour</a></li><li><a href=/posts/gallery/covid-19/ title="Capturing COVID-19">Capturing COVID-19</a></li><li><a href=/posts/gallery/hong-kong/ title="Hong Kong">Hong Kong</a></li><li><a href=/posts/gallery/dublin/ title=Ireland>Ireland</a></li><li><a href=/posts/gallery/london/ title=London>London</a></li><li><a href=/posts/gallery/michigan/ title=Michigan>Michigan</a></li><li><a href=/posts/gallery/newcastle/ title=Newcastle>Newcastle</a></li><li><a href=/posts/gallery/zhuhai/ title=Zhuhai>Zhuhai</a></li></ul></li><li><i class="fas fa-minus-circle"></i><a class=active href=/posts/projects/>Projects</a><ul class=active><li><a href=/posts/projects/cad2cav/ title=CAD2CAV>CAD2CAV</a></li><li><a href=/posts/projects/565-cuda-path-tracer/ title="CUDA Path Tracer">CUDA Path Tracer</a></li><li><a href=/posts/projects/373proj/ title="EECS 373 Project">EECS 373 Project</a></li><li><a href=/posts/projects/560proj/ title="Mini Minecraft">Mini Minecraft</a></li><li><a href=/posts/projects/450proj/ title="SJTU Undergraduate Design Expo">SJTU Undergraduate Design Expo</a></li><li><a href=/posts/projects/467proj-slam/ title="SLAM Project">SLAM Project</a></li><li><a href=/posts/projects/565-final-project/ title="Volume Rendered ReSTIR">Volume Rendered ReSTIR</a></li><li><a href=/posts/projects/565-vulkan-grass-rendering/ title="Vulkan Grass Rendering">Vulkan Grass Rendering</a></li><li><i class="fas fa-minus-circle"></i><a class=active href=/posts/projects/f1tenth-labs/>F1Tenth Course Labs</a><ul class=active><li><a class=active href=/posts/projects/f1tenth-labs/f1tenth-lab1/ title="F1Tenth Course Lab 1">F1Tenth Course Lab 1</a></li><li><a href=/posts/projects/f1tenth-labs/f1tenth-lab2/ title="F1Tenth Course Lab 2">F1Tenth Course Lab 2</a></li><li><a href=/posts/projects/f1tenth-labs/f1tenth-lab3/ title="F1Tenth Course Lab 3">F1Tenth Course Lab 3</a></li><li><a href=/posts/projects/f1tenth-labs/f1tenth-lab4/ title="F1Tenth Course Lab 4">F1Tenth Course Lab 4</a></li><li><a href=/posts/projects/f1tenth-labs/f1tenth-lab6/ title="F1Tenth Course Lab 6">F1Tenth Course Lab 6</a></li></ul></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/images/posts/f1tenth-lab1/f1tenth-lab1.png)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/author/avatar_hufae261693e8da39e936529a400eb43d8_104998_120x120_fit_q75_box.jpg alt="Author Image"><h5 class=author-name>Zhihao (Ryan) Ruan</h5><p>Sunday, January 24, 2021</p></div><div class=title><h1>My F1TENTH Journey — Lab 1, Introduction to ROS</h1></div><div class=post-content id=post-content><p><em><strong>This series of blogs marks the journey of my F1/10 Autonomous Racing Cars.</strong></em></p><p><em><strong>All my source codes can be accessed <a href=https://github.com/shineyruan/F1Tenth_Labs target=_blank rel=noopener>here</a>.</strong></em></p><h2 id=overview>Overview</h2><p>In Spring 2021 I finally got a chance to join the F1/10 Autonomous Racing Car Lab at Penn, supervised by <a href=https://www.seas.upenn.edu/~rahulm/ target=_blank rel=noopener>Prof. Rahul Mangharam</a>. To start my autonomous racing journey, I followed the <a href=https://f1tenth-coursekit.readthedocs.io/en/stable/index.html target=_blank rel=noopener>official tutorials</a> and studied the labs & projects there.</p><p>ROS (Robotics Operating System), is a robotics project development platform widely-used all across the world. Although it is called an &ldquo;operating system&rdquo;, it is actually a chain of build tools that can be used to build mixed C++/Python projects as well as provide nice & convenient communication functionalities between processes. F1/10 Autonomous Racing Car dev stack is built upon ROS and C++. <strong>Lab 1 also mainly focuses on introducing ROS as well as providing some small hands-on exercises for ROS coding.</strong></p><h2 id=lab-materials>Lab Materials</h2><p>The lab specs can be access <a href=https://f1tenth-coursekit.readthedocs.io/en/latest/assignments/labs/lab1.html target=_blank rel=noopener>here</a>. A copy of PDF is also shown <a href=/files/f110_lab1.pdf>here</a>.</p><script type=text/javascript src=//js/pdf-js/build/pdf.js></script><style>#the-canvas{border:1px solid #000;direction:ltr;width:100%;height:auto;display:none}#paginator{display:none;text-align:center;margin-bottom:10px}#loadingWrapper{display:none;justify-content:center;align-items:center;width:100%;height:350px}#loading{display:inline-block;width:50px;height:50px;border:3px solid #d2d0d0;border-radius:50%;border-top-color:#383838;animation:spin 1s ease-in-out infinite;-webkit-animation:spin 1s ease-in-out infinite}@keyframes spin{to{-webkit-transform:rotate(360deg)}}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg)}}</style><div id=paginator><button id=prev>Previous</button>
<button id=next>Next</button>
&nbsp; &nbsp;
<span>Page: <span id=page_num></span> / <span id=page_count></span></span></div><div id=embed-pdf-container><div id=loadingWrapper><div id=loading></div></div><canvas id=the-canvas></canvas></div><script type=text/javascript>window.onload=function(){c="https://zhihaoruan.xyz/files/f110_lab1.pdf",u=""==="true",l=""==="true",h=parseInt("")||1,o=window["pdfjs-dist/build/pdf"],o.GlobalWorkerOptions.workerSrc="https://zhihaoruan.xyz/js/pdf-js/build/pdf.worker.js";var o,c,l,u,h,n=null,e=h,i=!1,s=null,b=3,t=document.getElementById("the-canvas"),m=t.getContext("2d"),f=document.getElementById("paginator"),r=document.getElementById("loadingWrapper");v(),g();function a(e){i=!0,n.getPage(e).then(function(e){var o,r,n=e.getViewport({scale:b});t.height=n.height,t.width=n.width,o={canvasContext:m,viewport:n},r=e.render(o),r.promise.then(function(){i=!1,p(),s!==null&&(a(s),s=null)})}),document.getElementById("page_num").textContent=e}function p(){r.style.display="none",t.style.display="block"}function g(){if(l)return;r.style.display="flex",t.style.display="none"}function v(){if(u)return;f.style.display="block"}function d(e){i?s=e:a(e)}function j(){if(e<=1)return;e--,d(e)}document.getElementById("prev").addEventListener("click",j);function y(){if(e>=n.numPages)return;e++,d(e)}document.getElementById("next").addEventListener("click",y),o.getDocument(c).promise.then(function(t){n=t;var s=n.numPages;document.getElementById("page_count").textContent=s,e>s&&(e=s),a(e)})}</script><p>The lab was built on the <em>F1Tenth Simulator</em>, which can be accessed <a href=https://f1tenth.readthedocs.io/en/stable/going_forward/simulator/sim_install.html target=_blank rel=noopener>here</a>.</p><h2 id=workspaces-and-packages>Workspaces and Packages</h2><p>This section mainly uses the official ROS tutorials to create a Catkin workspace and a ROS package. I followed the tutorials in ROS C++, set up my workspace, and created a package.</p><h3 id=answers-to-section-3-written-questions>Answers to Section 3 Written Questions</h3><ul><li><strong>What is a CMakeList? Is it related to a make file used for compiling C++ objects? If yes then what is the difference between the two?</strong></li></ul><p>A CMakeList is a script offering instructions on how to build a CMake workspace. With a proper CMakeList, we can use CMake to build the workspace by</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cmake ..
</span></span><span style=display:flex><span>make <span style=color:#f92672>&amp;&amp;</span> make install
</span></span></code></pre></div><p>As for its relationship to a Makefile, CMakeLists can be viewed as a <em>high-level wrapper</em> of Makefile. In Unix systems, a CMakeList will produce a Makefile.</p><ul><li><strong>Are you using CMakeList.txt for Python in ROS? Is there a executable object being created for Python?</strong></li></ul><p>CMakeList for Python in ROS does not compile anything. It just imports Catkin macros and copies the corresponding Python scripts to the <code>bin</code> folder, if necessary.</p><ul><li><strong>In which directory would you run <code>catkin_make</code>?</strong></li></ul><p><code>catkin_make</code> should be run in Catkin workspaces, aka. <code>catkin_ws</code>.</p><ul><li><strong>The following commands were used in the tutorial</strong></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>source /opt/ros/kinetic<span style=color:#f92672>(</span>melodic<span style=color:#f92672>)</span>/setup.bash
</span></span><span style=display:flex><span>source devel/setup.bash
</span></span></code></pre></div><p><strong>Why do we need to source <code>setup.bash</code>? What does it do? Why do we have to different <code>setup.bash</code> files here and what is the difference?</strong></p><p><code>/opt/ros/kinetic(melodic)/setup.bash</code> provides necessary Catkin commands & env variables across workspaces, such as <code>catkin_make</code>, <code>catkin_init_workspace</code>, etc. <code>devel/setup.bash</code> provides workspace-specific environment variables, such as the Python libraries it builds, the ROS packages it creates, etc.</p><h2 id=publishers-and-subscribers>Publishers and Subscribers</h2><p>In this section I wrote a simple subscriber to subscribe the LiDAR message broadcasted from F1Tenth simulator. The ROS message was a <code>sensor_msgs/LaserScan</code> it was published on channel <code>/scan</code>.</p><p>What&rsquo;s more, I also processed the LiDAR data and found out its maximum/minimum range through a simple linear search, and published the messages on <code>/closest_point</code> and <code>/farthest_point</code> with data type <code>std_msgs::Float64</code>. I also tried to wrap up the processor in a C++ class. The entire code is shown below.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;ros/ros.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;sensor_msgs/LaserScan.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;std_msgs/Float64.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>LidarProcessor</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Read-only public member variable of closest/farthest range
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//  within a LaserScan
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>const</span> std_msgs<span style=color:#f92672>::</span>Float64<span style=color:#f92672>&amp;</span> range_closest;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> std_msgs<span style=color:#f92672>::</span>Float64<span style=color:#f92672>&amp;</span> range_farthest;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// constructor
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    LidarProcessor() <span style=color:#f92672>:</span> range_closest(_closest), range_farthest(_farthest) {}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// callback function for LaserScan subscriber
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>handleLaserScan</span>(<span style=color:#66d9ef>const</span> sensor_msgs<span style=color:#f92672>::</span>LaserScanConstPtr<span style=color:#f92672>&amp;</span> new_scan) {
</span></span><span style=display:flex><span>        std<span style=color:#f92672>::</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>float</span><span style=color:#f92672>&gt;</span> ranges <span style=color:#f92672>=</span> new_scan<span style=color:#f92672>-&gt;</span>ranges;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// find the min/max range from linear search
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>float</span> range_closest <span style=color:#f92672>=</span> std<span style=color:#f92672>::</span>numeric_limits<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>float</span><span style=color:#f92672>&gt;::</span>infinity();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>float</span> range_farthest <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.f</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>float</span><span style=color:#f92672>&amp;</span> r : ranges) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (std<span style=color:#f92672>::</span>isnan(r) <span style=color:#f92672>||</span> std<span style=color:#f92672>::</span>isinf(r)) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (r <span style=color:#f92672>&lt;</span> range_closest) range_closest <span style=color:#f92672>=</span> r;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (r <span style=color:#f92672>&gt;</span> range_farthest) range_farthest <span style=color:#f92672>=</span> r;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// clip the data if it exceeds the required min/max range
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        _closest.data <span style=color:#f92672>=</span> (range_closest <span style=color:#f92672>&lt;</span> new_scan<span style=color:#f92672>-&gt;</span>range_min) <span style=color:#f92672>?</span> new_scan<span style=color:#f92672>-&gt;</span>range_min : range_closest;
</span></span><span style=display:flex><span>        _farthest.data <span style=color:#f92672>=</span> (range_farthest <span style=color:#f92672>&gt;</span> new_scan<span style=color:#f92672>-&gt;</span>range_max) <span style=color:#f92672>?</span> new_scan<span style=color:#f92672>-&gt;</span>range_max : range_farthest;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        ROS_INFO(<span style=color:#e6db74>&#34;LaserScan message received: closest %f, farthest %f&#34;</span>, _closest.data, _farthest.data);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>private</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    std_msgs<span style=color:#f92672>::</span>Float64 _closest;
</span></span><span style=display:flex><span>    std_msgs<span style=color:#f92672>::</span>Float64 _farthest;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(<span style=color:#66d9ef>int</span> argc, <span style=color:#66d9ef>char</span><span style=color:#f92672>**</span> argv) {
</span></span><span style=display:flex><span>    ros<span style=color:#f92672>::</span>init(argc, argv, <span style=color:#e6db74>&#34;laser_scan_subscriber&#34;</span>, ros<span style=color:#f92672>::</span>init_options<span style=color:#f92672>::</span>AnonymousName);
</span></span><span style=display:flex><span>    ros<span style=color:#f92672>::</span>NodeHandle nh;
</span></span><span style=display:flex><span>    ros<span style=color:#f92672>::</span>Rate loop_rate(<span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    LidarProcessor processor;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    ros<span style=color:#f92672>::</span>Subscriber laserScan_subscriber <span style=color:#f92672>=</span> nh.subscribe(<span style=color:#e6db74>&#34;/scan&#34;</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>&amp;</span>LidarProcessor<span style=color:#f92672>::</span>handleLaserScan, <span style=color:#f92672>&amp;</span>processor);
</span></span><span style=display:flex><span>    ros<span style=color:#f92672>::</span>Publisher closestPoint_publisher <span style=color:#f92672>=</span> nh.advertise<span style=color:#f92672>&lt;</span>std_msgs<span style=color:#f92672>::</span>Float64<span style=color:#f92672>&gt;</span>(<span style=color:#e6db74>&#34;/closest_point&#34;</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    ros<span style=color:#f92672>::</span>Publisher farthestPoint_publisher <span style=color:#f92672>=</span> nh.advertise<span style=color:#f92672>&lt;</span>std_msgs<span style=color:#f92672>::</span>Float64<span style=color:#f92672>&gt;</span>(<span style=color:#e6db74>&#34;/farthest_point&#34;</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (ros<span style=color:#f92672>::</span>ok()) {
</span></span><span style=display:flex><span>        closestPoint_publisher.publish(processor.range_closest);
</span></span><span style=display:flex><span>        farthestPoint_publisher.publish(processor.range_farthest);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        loop_rate.sleep();
</span></span><span style=display:flex><span>        ros<span style=color:#f92672>::</span>spinOnce();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=answers-to-section-4-written-questions>Answers to Section 4 Written Questions</h3><ul><li><strong>What is a nodehandle object? Can we have more than one nodehandle objects in a single node?</strong></li></ul><p>A <code>ros::NodeHandle</code> is an extra layer in C++ that provides RAII-style startup & shutdown of the ROS node. It also offers extra functionalities for the node, such as sending/receiving ROS messages, waiting on a specific ROS message, etc. We can indeed have multiple <code>NodeHandle</code>s in a single node for creating different namespaces, but they all refer to the same ROS node.</p><ul><li><strong>What is <code>ros::spinOnce()</code>? How is it different from <code>ros::spin()</code>?</strong></li></ul><p><code>ros::spinOnce()</code> iterates the loop once more while keeping the node active, while <code>ros::spin()</code> puts the entire node into sleep and only handles data from callback functions.</p><ul><li><strong>What is <code>ros::rate()</code>?</strong></li></ul><p><code>ros::Rate</code> specifies the rate of spinning loop of this ROS node.</p><h2 id=implementing-custom-messages>Implementing Custom Messages</h2><p>In this section I focused on implementing a custom ROS message type <code>scan_range</code>, which includes the min/max range in the laser scan. According to the <a href=http://wiki.ros.org/ROS/Tutorials/CreatingMsgAndSrv target=_blank rel=noopener>tutorials of creating custom ROS messages</a>, I created the following ROS message <code>scan_range.msg</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>std_msgs/Header header
</span></span><span style=display:flex><span>std_msgs/Float64 range_min
</span></span><span style=display:flex><span>std_msgs/Float64 range_max
</span></span></code></pre></div><p>After resolving all Catkin package dependencies in CMakeList & ROS package manifest file (<code>package.xml</code>), I finally reached the following output.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; rosmsg show lab1/scan_range
</span></span><span style=display:flex><span>std_msgs/Header header
</span></span><span style=display:flex><span>  uint32 seq
</span></span><span style=display:flex><span>  time stamp
</span></span><span style=display:flex><span>  string frame_id
</span></span><span style=display:flex><span>std_msgs/Float64 range_min
</span></span><span style=display:flex><span>  float64 data
</span></span><span style=display:flex><span>std_msgs/Float64 range_max
</span></span><span style=display:flex><span>  float64 data
</span></span></code></pre></div><h3 id=answers-to-section-5-written-questions>Answers to Section 5 Written Questions</h3><ul><li><strong>Why did you include the header file of the message file instead of the message file itself?</strong></li></ul><p>According to ROS mechanisms, any customized ROS messages will be generated into a templated message header file to be included in the C++ code. The message file itself is not part of standard C++ and it cannot be parsed by C++ compilers.</p><ul><li><strong>In the documentation of the LaserScan message there was also a data type called Header. What is that? Can you also include it in your message file? What information does it provide? Include Header in your message file too.</strong></li></ul><p>The <code>Header</code> provides information on the sequential order, the timestamp, and the frame ID of the instant when the message is published. It is very useful when one would like to make use of time information of the messages received. The header file has been included in my custom ROS message.</p><h2 id=recording-and-publishing-bag-files>Recording and Publishing Bag Files</h2><p>This section aims at playing with <code>rosbag</code> and bag files in ROS. ROS bag files are a certain kind of files that targets at recording ROS messages, so that it can be replayed elsewhere afterwards. ROS Bag is extremely helpful when one would like to collect data in real-world experiments.</p><h3 id=answers-to-section-6-written-questions>Answers to Section 6 Written Questions</h3><ul><li><strong>Where does the bag file get saved? How can you change where it is saved?</strong></li></ul><p>By default the bag file is saved at the current directory. We can also change the directory by adding <code>-o</code> such as:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rosbag record -o ../bagfiles/my_rosbag_recordings.bag
</span></span></code></pre></div><ul><li><strong>Where will the bag file be saved if you were launching the recording of bagfile record through a launch file. How can you change where it is saved?</strong></li></ul><p>By default the bag file is saved at the current directory. We can also change the directory by appending <code>args=../bagfiles/my_rosbag_recordings.bag</code> to the corresponding node in the launch file.</p><h2 id=references>References</h2><p>F1/10 Autonomous Racing Lecture: Course Introduction</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/zENhppcxwzY style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><p>F1/10 Autonomous Racing Lecture: Using the Simulator</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/Q71OKxztppA style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div></div><div class="row pl-3 pr-3"><div class="col-md-6 share-buttons"></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/shineyruan/shineyruan.github.io/edit/main/content/posts/Projects/f1tenth-labs/f1tenth-lab1/index.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>
Improve this page</a></div></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/posts/projects/565-vulkan-grass-rendering/ title="Vulkan Grass Rendering" class="btn btn-outline-info"><div><i class="fas fa-chevron-circle-left"></i> Prev</div><div class=next-prev-text>Vulkan Grass Rendering</div></a></div><div class="col-md-6 next-article"><a href=/posts/projects/f1tenth-labs/f1tenth-lab2/ title="My F1TENTH Journey — Lab 2, Automatic Emergency Braking" class="btn btn-outline-info"><div>Next <i class="fas fa-chevron-circle-right"></i></div><div class=next-prev-text>My F1TENTH Journey — Lab 2, Automatic Emergency Braking</div></a></div></div><hr></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://zhihaoruan.xyz#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://zhihaoruan.xyz#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://zhihaoruan.xyz#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=https://zhihaoruan.xyz#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=https://zhihaoruan.xyz#projects>Projects</a></li><li class=nav-item><a class=smooth-scroll href=https://zhihaoruan.xyz#recent-posts>Recent Posts</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:shineyruan@gmail.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>shineyruan@gmail.com</span></a></li><li><a href=https://github.com/shineyruan target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>shineyruan</span></a></li></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2018 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.9b9b09458f9440fd9f05461e7e09facb122dae26ced6746af931077a97b6c6d1.js integrity="sha256-m5sJRY+UQP2fBUYefgn6yxItribO1nRq+TEHepe2xtE=" defer></script></body></html>